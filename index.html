<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gammy â€” Nebula Game Tracker</title>
  <link rel="stylesheet" href="/styles.css"/>
  <link rel="preconnect" href="https://images.igdb.com" crossorigin>
  <meta name="theme-color" content="#0D0D1A"/>
</head>
<body>
  <canvas id="bg-canvas" aria-hidden="true"></canvas>
  <div class="bg-nebula-overlay"></div>

  <aside class="sidebar glass">
    <div class="brand">
      <span class="logo">ðŸŽ®</span>
      <span class="brand-name">Gammy</span>
    </div>

    <nav class="nav">
      <a href="#/library" data-i18n="nav.library" class="nav-link active">Libreria</a>
      <a href="#/wishlist" data-i18n="nav.wishlist" class="nav-link">Wishlist</a>
      <a href="#/diary" data-i18n="nav.diary" class="nav-link">Diario</a>
      <div class="nav-sep"></div>
      <a href="#/upcoming" data-i18n="nav.upcoming" class="nav-link">In Uscita</a>
      <a href="#/calendar" data-i18n="nav.calendar" class="nav-link">Calendario</a>
      <a href="#/news" data-i18n="nav.news" class="nav-link">Notizie</a>
    </nav>

    <div class="sidebar-bottom">
      <div class="lang-switch">
        <button class="lang-btn" data-lang="it">IT</button>
        <span class="sep">|</span>
        <button class="lang-btn" data-lang="en">EN</button>
      </div>
      <div class="foot-note">Nebula Mode</div>
    </div>
  </aside>

  <main class="content">
    <header class="topbar glass">
      <form id="searchForm" class="searchbar">
        <input id="searchInput" type="search" placeholder="Cerca giochi..." data-i18n-placeholder="search.placeholder" autocomplete="off"/>
        <button class="primary-btn" type="submit" data-i18n="search.search">Cerca</button>
      </form>
      <div class="actions">
        <button id="openSearch" class="icon-btn" title="Search" aria-label="Search">ðŸ”Ž</button>
      </div>
    </header>

    <section id="view-root" class="view"></section>
  </main>

  <!-- Modal: Search Results -->
  <div id="modal-search" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modal-search-title">
    <div class="modal-overlay" data-close="true"></div>
    <div class="modal-card glass">
      <div class="modal-header">
        <h3 id="modal-search-title" data-i18n="search.results">Risultati</h3>
        <button class="icon-btn close" data-close="true">âœ–</button>
      </div>
      <div class="modal-body">
        <div class="results-grid" id="searchResults"></div>
        <div class="modal-footer">
          <button class="secondary-btn" data-close="true" data-i18n="common.close">Chiudi</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Game Detail -->
  <div id="modal-detail" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modal-detail-title">
    <div class="modal-overlay" data-close="true"></div>
    <div class="modal-card modal-detail glass">
      <div class="detail-hero">
        <img id="detailCover" alt="" />
        <div class="hero-gradient"></div>
      </div>
      <div class="modal-header">
        <h3 id="modal-detail-title">Game Title</h3>
        <button class="icon-btn close" data-close="true">âœ–</button>
      </div>
      <div class="modal-body detail-body">
        <div class="detail-meta">
          <div class="meta-row"><span data-i18n="detail.developer">Sviluppatore</span> <strong id="detailDeveloper">â€”</strong></div>
          <div class="meta-row"><span data-i18n="detail.release">Data di uscita</span> <strong id="detailRelease">â€”</strong></div>
          <div class="meta-row platforms">
            <span data-i18n="detail.platforms">Piattaforme</span>
            <div id="detailPlatforms" class="platform-list"></div>
          </div>
          <div class="meta-row"><span>Metacritic</span> <strong id="detailMetacritic">â€”</strong></div>
        </div>
        <div class="detail-desc">
          <p id="detailDescription">â€”</p>
        </div>
        <div class="detail-actions">
          <button id="btnAddLibrary" class="primary-btn" data-i18n="detail.addLibrary">Aggiungi alla Libreria</button>
          <button id="btnAddWishlist" class="secondary-btn" data-i18n="detail.addWishlist">Aggiungi alla Wishlist</button>
          <div id="personalRating" class="stars hidden" aria-label="Personal rating"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast hidden"></div>

  <script type="module" src="/js/app.js"></script>
</body>
</html>