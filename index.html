<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gammy - Il Tuo Tracker di Videogiochi</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <h1>GAMMY</h1>
        </div>

        <nav class="nav-menu">
            <ul>
                <li><a href="#" data-page="library" class="nav-link active" data-i18n="nav.library">Libreria</a></li>
                <li><a href="#" data-page="wishlist" class="nav-link" data-i18n="nav.wishlist">Wishlist</a></li>
                <li><a href="#" data-page="diary" class="nav-link" data-i18n="nav.diary">Diario di Gioco</a></li>
                <li class="divider"></li>
                <li><a href="#" data-page="upcoming" class="nav-link" data-i18n="nav.upcoming">Più Attesi</a></li>
                <li><a href="#" data-page="calendar" class="nav-link" data-i18n="nav.calendar">Calendario</a></li>
                <li><a href="#" data-page="news" class="nav-link" data-i18n="nav.news">Notizie</a></li>
                <li><a href="#" data-page="reminders" class="nav-link" data-i18n="nav.reminders">Promemoria</a></li>
            </ul>
        </nav>

        <div class="sidebar-footer">
            <div class="language-selector">
                <button class="lang-btn active" data-lang="it">IT</button>
                <span>|</span>
                <button class="lang-btn" data-lang="en">EN</button>
            </div>
        </div>
    </aside>

    <main class="main-content">
        <header class="header">
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Cerca un gioco..." data-i18n-placeholder="search.placeholder">
                <button id="search-btn" data-i18n="search.button">Cerca</button>
            </div>
        </header>

        <div id="content-area" class="content-area"></div>
    </main>

    <!-- Modal Ricerca -->
    <div id="search-modal" class="modal">
        <div class="modal-content modal-search">
            <div class="modal-header">
                <h2 data-i18n="search.results">Risultati della Ricerca</h2>
                <button class="close-btn" data-modal="search-modal">&times;</button>
            </div>
            <div id="search-results" class="search-results-grid"></div>
        </div>
    </div>

    <!-- Modal Dettaglio Gioco -->
    <div id="detail-modal" class="modal">
        <div class="modal-content modal-detail">
            <button class="close-btn" data-modal="detail-modal">&times;</button>
            <div id="game-detail-content"></div>
        </div>
    </div>

    <!-- Modal Diario (Aggiornato) -->
    <div id="diary-modal" class="modal">
        <div class="modal-content modal-diary">
            <div class="modal-header">
                <h2 id="diary-modal-title" data-i18n="diary.addEntry">Aggiungi Nota</h2>
                <button class="close-btn" data-modal="diary-modal">&times;</button>
            </div>
            <div class="diary-form">
                <input type="hidden" id="diary-entry-id">
                <select id="diary-game-select">
                    <option value="" data-i18n="diary.selectGame">Seleziona un gioco</option>
                </select>
                <input type="text" id="diary-title" placeholder="Titolo della sessione" data-i18n-placeholder="diary.titlePlaceholder">
                <textarea id="diary-content" placeholder="Racconta la tua esperienza..." data-i18n-placeholder="diary.contentPlaceholder"></textarea>
                
                <!-- Rating -->
                <div class="diary-rating-section">
                    <label data-i18n="diary.rating">Voto:</label>
                    <div class="diary-star-rating" id="diary-star-rating">
                        <span class="star" data-rating="1">★</span>
                        <span class="star" data-rating="2">★</span>
                        <span class="star" data-rating="3">★</span>
                        <span class="star" data-rating="4">★</span>
                        <span class="star" data-rating="5">★</span>
                    </div>
                </div>

                <!-- Upload Immagini -->
                <div class="diary-images-section">
                    <label data-i18n="diary.photos">Foto:</label>
                    <input type="file" id="diary-images" accept="image/*" multiple>
                    <div id="diary-images-preview" class="images-preview"></div>
                </div>

                <button id="save-diary-btn" class="btn-primary" data-i18n="diary.save">Salva Nota</button>
            </div>
        </div>
    </div>

    <!-- Modal Giochi del Giorno (NUOVO) -->
    <div id="day-games-modal" class="modal">
        <div class="modal-content modal-search">
            <div class="modal-header">
                <h2 id="day-games-title">Uscite del Giorno</h2>
                <button class="close-btn" data-modal="day-games-modal">&times;</button>
            </div>
            <div id="day-games-content" class="search-results-grid"></div>
        </div>
    </div>

    <!-- Modal Session Tracker (NUOVO) -->
    <div id="session-modal" class="modal">
        <div class="modal-content modal-diary">
            <div class="modal-header">
                <h2 data-i18n="stats.startSession">Inizia Sessione</h2>
                <button class="close-btn" data-modal="session-modal">&times;</button>
            </div>
            <div class="session-form" style="padding: 2rem;">
                <select id="session-game-select">
                    <option value="" data-i18n="stats.selectGame">Seleziona un gioco</option>
                </select>
                <button id="confirm-session-btn" class="btn-primary" data-i18n="stats.start">Inizia</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/i18n.js"></script>
    <script src="js/api.js"></script>
    <script src="js/imageUpload.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/stats.js"></script> <!-- NUOVO -->
    <script src="js/app.js"></script>
</body>
    <!-- Scripts -->
    <script src="js/i18n.js"></script>
    <script src="js/api.js"></script>
    <script src="js/imageUpload.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/app.js"></script>
</body>
</html>